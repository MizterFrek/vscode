"use strict";var dt=Object.create;var E=Object.defineProperty;var ut=Object.getOwnPropertyDescriptor;var gt=Object.getOwnPropertyNames;var wt=Object.getPrototypeOf,vt=Object.prototype.hasOwnProperty;var xt=(i,t)=>{for(var e in t)E(i,e,{get:t[e],enumerable:!0})},Z=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gt(t))!vt.call(i,s)&&s!==e&&E(i,s,{get:()=>t[s],enumerable:!(n=ut(t,s))||n.enumerable});return i};var f=(i,t,e)=>(e=i!=null?dt(wt(i)):{},Z(t||!i||!i.__esModule?E(e,"default",{value:i,enumerable:!0}):e,i)),Pt=i=>Z(E({},"__esModule",{value:!0}),i);var kt={};xt(kt,{activate:()=>Ct});module.exports=Pt(kt);var T=f(require("vscode"));var u=f(require("vscode"));var K=require("path"),x=f(require("vscode"));var ct=f(require("vscode"));var Q=f(require("vscode")),S=class{patterns=new Map([[/namespace\s*\(\s*(['"])\s*([^'"]+)\1/g,!0],[/['"]namespace['"]\s*=>\s*(['"])([^'"]+)\1/g,!0],[/(controller)\s*\(\s*['"]?([^'")]+)/g,!1],[/resource\s*\(\s*['"][^'"]+['"]\s*,\s*(['"]?)([^,'"]+)/g,!1]]);document;fullText;constructor(t){this.document=t,this.fullText=t.getText()}static find(t){for(let e of t)if(e.isNamespace)return e.namespace;return""}blocks(t){let e,n=[];for(let s of this.patterns)for(;(e=s[0].exec(this.fullText))!==null;){let o=this.document.positionAt(e.index);if(o.isAfter(t.start))continue;let r=this.document.positionAt(this.getEndPosition(e.index));r.isBefore(t.end)||n.push({isNamespace:s[1],namespace:e[2].trim().replace("::class",""),range:new Q.Range(o,r)})}return n.reverse()}getEndPosition(t){let e=[],n=this.fullText.length;for(;n>t++;)if(this.fullText[t]==="{")e.push(t);else if(this.fullText[t]==="}"&&(e.pop(),e.length===0))return t;return t}};var U=f(require("vscode")),P=class i extends U.Range{static getByDelimiter(t,e,n=`<("'[,)>`){let s=e.start,o=e.end,r=t.lineAt(s);for(;s.isAfter(r.range.start);){let c=s.with({character:s.character-1}),l=t.getText(new U.Range(c,s));if(n.indexOf(l)!==-1)break;s=c}for(;o.isBefore(r.range.end);){let c=o.with({character:o.character+1}),l=t.getText(new U.Range(o,c));if(n.indexOf(l)!==-1)break;o=c}let a=new i(s,o);if(!a.isEqual(r.range))return a}getLinesAfterDelimiter(t,e="("){let n=[],s=this.start.line;for(;s>=0;){let o=t.lineAt(s).text.trim();if(n.unshift(o),o.includes(e))return n.join("");s--}return""}getPath(t){let e=t.getText(this).trim();return e=e.replace(/^[\s{<!-]+|[-\s>}]+$/g,""),e=e.replace(/{.*/,""),e=e.replace(/\$.*/,""),e=e.replace(/\.$/,""),e}};var p=class{path;uris;location;paths;locations;source;constructor(t){this.path=t.path,this.uris=t.uris,this.location=t.location,this.paths=t.paths}getUniquePaths(){if(this.paths?.size){let t=[];for(let[,e]of this.paths)e.length===1&&t.push(e[0].fsPath);if(t.length===this.paths.size)return t}return[]}};var D=f(require("vscode")),G=f(require("fs/promises")),_=require("child_process"),tt=f(require("path")),bt=2,yt=D.workspace.getConfiguration().get("laravelGoto.exclusion",null),X=new Map,Y=new Map;function et(i){return D.workspace.createFileSystemWatcher(i)}async function m(i,t=bt){return await D.workspace.findFiles(i,yt,t)}async function st(i){let t=await m(i+"/**",1);if(t.length===0)return"";i.startsWith("**/")&&(i=tt.default.sep+i.slice(3));let e=t[0].fsPath,n=e.indexOf(i);return n!==-1?e.slice(0,n+i.length):""}async function b(i){let t=i;if(typeof i=="string"){let o=await m(i,1);if(o.length===0)return"";t=o[0]}let e=t.fsPath,n=(await G.default.stat(e)).mtime.toString();if(Y.get(e)===n)return X.get(e)??"";let s=(await G.default.readFile(e)).toString();return Y.set(e,n),X.set(e,s),s}function y(i){return i=i.replace("::class","").replace(",","").replace(/\\/g,"/").trim()+".php",i[0]==="/"&&(i=i.substring(1)),i.startsWith("App/")&&(i=i.substring(4)),i}function nt(i,t){return(0,_.spawnSync)(i,t)}var C=f(require("vscode")),g=class i{static devMode=!1;static debug;static files;static channel;static isEnabled(){return i.debug===void 0&&(i.debug=C.workspace.getConfiguration().get("laravelGoto.debug",!1)),i.channel===void 0&&(i.channel=C.window.createOutputChannel("Laravel Goto",{log:!0})),i.debug||i.devMode}};function ot(i){g.devMode=i===C.ExtensionMode.Development}function q(i,...t){if(g.isEnabled()){let e=i+": "+t.join(", ");console.info(e),g.channel.info(e)}}function H(i,...t){if(g.isEnabled()){let e=i+": "+t.join(", ");console.error(e),g.channel.error(e)}}function k(i,...t){if(g.isEnabled()){let e=i+": "+t.join(", ");console.warn(e),g.channel.warn(e)}}var R=class{httpKernel;async all(){let t=new Map;if(this.httpKernel===void 0&&(this.httpKernel=await b("**/Http/Kernel.php")),k("middleware","http kernel found"),!this.httpKernel)return t;let e=this.collectClassNames(this.httpKernel),s=/(\$\bmiddlewareAliases\b|\$\brouteMiddleware\b)\s*=\s*\[([^;]+)/m.exec(this.httpKernel);if(!s)return t;let o,r=/['"]([^'"]+)['"]\s*=>\s*([^,\]]+)/g;for(;(o=r.exec(s[2]))!==null;){o.index===r.lastIndex&&r.lastIndex++;let a=o[2].replace("::class","").trim(),c=new p({path:a,location:"",uris:[]}),l=e.get(c.path);l&&(c.path=l),c.path=y(c.path),t.set(o[1],c)}return t}collectClassNames(t){let e=new Map,n=/use\s+([^\s]+)\s+as+\s+([^;]+)/g,s;for(;(s=n.exec(t))!==null;)s.index===n.lastIndex&&n.lastIndex++,e.set(s[2],s[1].trim());return e}};var A=require("path"),O=class i{static kernelFilename="Console/Kernel.php";consoleKernel="";async all(){let t=new Map,e=await m((0,A.join)("**",i.kernelFilename),1);if(e.length===0||(this.consoleKernel=await b(e[0]),!this.consoleKernel))return t;let n=await this.collectFiles();return t=await this.collectFileCmds(n),(await this.collectRegisteredCmds()).forEach((o,r)=>t.set(r,o)),t}async collectFiles(){let t=new Map,e=/function commands\([^)]*[^{]+([^}]+)/m,n;if(n=e.exec(this.consoleKernel),!n)return t;let s=/\$this->load\(\s*__DIR__\s*\.\s*['"]([^'"]+)/g;for(;(n=s.exec(n[1]))!==null;){n.index===s.lastIndex&&s.lastIndex++;let o=(0,A.join)("**","Console",n[1],"**/*.php"),r=await m(o,999);for(let a of r)t.set(a.path,a)}return t}getCommandSignature(t){let n=/\$signature\s*=\s*['"]([^\s'"]+)/.exec(t);return n?n[1]:""}async collectFileCmds(t){let e=new Map;for(let n of t.values()){let s=await b(n),o=this.getCommandSignature(s);if(o){let r=new p({path:(0,A.basename)(n.path),location:"",uris:[n]});e.set(o,r)}}return e}async collectRegisteredCmds(){let t=new Map,n=/\$commands\s*=\s*\[([^\]]+)/m.exec(this.consoleKernel);if(!n)return t;let s=n[1].split(`
`);for(let o of s){let r=y(o);if(r===".php")continue;let a=await m((0,A.join)("**",r),1);if(a.length===0)continue;let c=await b(a[0]),l=this.getCommandSignature(c);if(l){let d=new p({path:r,location:"",uris:[]});t.set(l,d)}}return t}};var rt=require("path");var M=class i{static routes=new Map;all(){return i.routes}watch(){let t=et("**/routes/*.php"),e=async()=>await new i().update();return t.onDidCreate(e),t.onDidChange(e),t.onDidDelete(e),t}async update(){i.routes=new Map;let t=await m((0,rt.join)("**","artisan"),1);if(t.length===0){k("artisan not found");return}let e=nt("php",[t[0].fsPath,"route:list","--json"]);if(e.status!==0){H("route:list failed",e.stdout.toString());return}try{JSON.parse(e.stdout.toString()).forEach(s=>{let[o,r]=s.action.split("@"),a=new p({path:o,location:"@"+r,uris:[]});a.path=y(a.path),i.routes.set(s.name,a)})}catch(n){n instanceof Error&&H("collect routes failed",n.message);return}}};var $=require("fs/promises"),at=require("vscode"),I=class i{static filename=(t,e)=>`lang/${t}${e}.php`;static langFilename=(t,e,n)=>`${t}${e}/${n}.php`;base;langs=[];async getPlace(t){let e=new p({path:"",location:"",uris:[],paths:new Map});if(this.base===void 0&&await this.init(),this.base==="")return e;let n=t.split(":"),s=n.length===3?`vendor/${n[0]}/`:"",o=n[n.length-1].split(".");e.path=i.filename(s,o[0]),2<=o.length&&(e.location=`(['"]{1})`+o[1]+"\\1\\s*=>"),e.paths=new Map,e.locations=new Map;for(let r of this.langs){let a=i.langFilename(s,r,o[0]);if(r.endsWith(".json")){a=r;let d=o.join("\\.");e.locations.set(a,`"${d}"`)}let c=[],l=at.Uri.parse(this.base+"/"+a);try{(await(0,$.stat)(l.fsPath)).isFile()&&c.push(l)}catch{k("lang file not found",l.fsPath)}e.paths.set("lang/"+a,c)}return e}async init(){this.base=await st("**/lang"),q("lang base",this.base),this.base!==""&&((await(0,$.readdir)(this.base)).forEach(t=>{this.langs.push(t)}),q("lang langs",...this.langs))}};var W=class i{static patterns=[/\b(?:view|markdown)\b\(\s*(['"])([^'"]*)\1/,/[lL]ayout\(\s*(['"])([^'"]*)\1/,/\$view\s*=\s*(['"])([^'"]*)\1/,/View::exists\(\s*(['"])([^'"]*)\1/,/View::composer[^'"]*(['"])([^'"]*)\1/,/View::creator[^'"]*(['"])([^'"]*)\1/,/\b(?:view|text|html|markdown)\b\s*:\s*(['"])([^'"]*)\1/,/view\(\s*['"][^'"]*['"],\s*(['"])([^'"]*)\1/,/['"]layout['"]\s*=>\s*(['"])([^'"]*)\1/,/@include(If\b)?\(\s*(['"])([^'"]*)\2/,/@extends\(\s*(['"])([^'"]*)\1/,/@include(When|Unless\b)?\([^'"]+(['"])([^'"]+)/,/(resources\/views[^\s'"-]+)/];static multiViewsPatterns=[/View::first\(\[(\s*['"][^'"]+['"]\s*[,]?\s*){2,}\]/,/View::composer\(\[(\s*['"][^'"]+['"]\s*[,]?\s*){2,}\]/,/view\(\[(\s*['"][^'"]+['"]\s*[,]?\s*){2,}\]/,/@includeFirst\(\[(\s*['"][^'"]+['"]\s*[,]?\s*){2,}\]/,/@each\(['"][^'"]+['"]\s*,[^,]+,[^,]+,[^)]+/];getPlace(t,e,n=""){let s=new p({path:"",paths:new Map,location:"",uris:[]});for(let o of i.patterns){let r=o.exec(e)??o.exec(n);if(r&&r[r.length-1]===t)return s=this.transformFilename(t,s),s}for(let o of i.multiViewsPatterns)if(o.exec(e)??o.exec(n))return s=this.transformFilename(t,s),s;return s}transformFilename(t,e){let n=t.split(":"),s="";return n.length===3&&n[0]===n[0].toLowerCase()&&(s=n[0]+"/"),e.path=n[n.length-1],e.path=s+e.path.replace(/\./g,"/"),e.path.endsWith("/blade/php")&&(e.path=e.path.slice(0,e.path.length-10)),e.path+=".blade.php",e}};var j=class i{static patterns=[/Config::[^'"]*(['"])([^'"]*)\1/g,/config\([^'"]*(['"])([^'"]*)\1/g];getPlace(t,e,n=""){let s=new p({path:"",paths:new Map,location:"",uris:[]});for(let o of i.patterns){let r=[...e.matchAll(o),...n.matchAll(o)];for(let a of r){if(!a[2].startsWith(t))continue;let c=t.split(".");return s.path="config/"+c[0]+".php",2<=c.length&&(s.location=`(['"]{1})`+c[1]+"\\1\\s*=>"),s}}return s}};var B=class i{static pattern=/([A-Z][\w]+[\\])+[A-Z][\w]+/;getPlace(t,e,n=""){let s=new p({path:"",paths:new Map,location:"",uris:[]});if(!(i.pattern.exec(e)??i.pattern.exec(n)))return s;let r=t.split("::");return s.path=r[0],r[1]&&(s.location="@"+r[1]),s.path.startsWith("\\")&&(s.path=s.path.substring(1)),s.path.startsWith("App\\")&&(s.path="a"+s.path.substring(1)),s.path+=".php",s}};var L=class{document;selection;path;line;lines;constructor(t,e){this.document=t,this.selection=e,this.path=e.getPath(t),this.line=t.lineAt(e.start).text,this.lines=e.getLinesAfterDelimiter(t)}async getPlace(){let t=[this.pathHelperPlace.bind(this),this.configPlace.bind(this),this.langPlace.bind(this),this.envPlace.bind(this),this.middlewarePlace.bind(this),this.controllerPlace.bind(this),this.classNamePlace.bind(this),this.staticPlace.bind(this),this.inertiajsPlace.bind(this),this.livewirePlace.bind(this),this.componentPlace.bind(this),this.commandPlace.bind(this),this.filesystemPlace.bind(this),this.routePlace.bind(this),this.bladePlace.bind(this)],e=new p({path:"",paths:new Map,location:"",uris:[]});for(let n of t)if(e=await n(e,this.document,this.selection),e.source=n.name,e.path)return e;return e}pathHelperPlace(t){let e=/([\w^_]+)_path\(\s*(['"])([^'"]*)\2/,n=e.exec(this.line)??e.exec(this.lines);if(n&&n[3]===this.path){let s=n[1]+"/";return s==="base/"?s="":s==="resource/"&&(s="resources/"),t.path=s+this.path,t}return t}componentPlace(t){let e=/<\/?x-([^/\s>]*)/,n=e.exec(this.line)??e.exec(this.lines);if(n&&this.path.includes(n[1])){let s=n[1].split(":"),o="View/Components/",r="views/components/";s.length===3&&s[0]===s[0].toLowerCase()&&(o=s[0]+"/",r=s[0]+"/");let a=d=>(d.forEach((At,z)=>{d[z]=d[z][0].toUpperCase()+d[z].slice(1)}),d),c=s[s.length-1].split(".");t.path=r+c.join("/")+".blade.php",t.paths?.set(r+c.join("/")+".blade.php",[]),c=a(c);let l=c[c.length-1].split("-");return l=a(l),c[c.length-1]=l.join(""),t.paths?.set(o+c.join("/")+".php",[]),t}return t}bladePlace(){return new W().getPlace(this.path,this.line,this.lines)}controllerPlace(t,e,n){let s=new S(e).blocks(n),o=this.line.indexOf("Controller")===-1;if(s.length===0&&o)return t;let r=/\[\s*(.*::class)\s*,\s*["']([^"']+)/,a=r.exec(this.line)??r.exec(this.lines);return t.path=this.path,a&&(t.path=a[1],t.location=a[2]),t=this.setControllerAction(s,t),t=this.setControllerNamespace(s,t),t.path=t.path.replace("::class","").replace(/\\+/g,"/")+".php",t}configPlace(){return new j().getPlace(this.path,this.line,this.lines)}filesystemPlace(t){let e=/Storage::disk\(\s*['"]([^'"]+)/,n=e.exec(this.line)??e.exec(this.lines);return n&&n[1]===this.path&&(t.path="config/filesystems.php",t.location=`(['"]{1})`+n[1]+"\\1\\s*=>"),t}async langPlace(t){let e=[/__\([^'"]*(['"])([^'"]*)\1/,/@lang\([^'"]*(['"])([^'"]*)\1/,/trans\([^'"]*(['"])([^'"]*)\1/,/trans_choice\([^'"]*(['"])([^'"]*)\1/];for(let n of e){let s=n.exec(this.line)??n.exec(this.lines);if(s&&s[2]===this.path)return await new I().getPlace(this.path)}return t}envPlace(t){let e=/env\(\s*(['"])([^'"]*)\1/,n=e.exec(this.line)??e.exec(this.lines);return n&&n[2]===this.path&&(t.location=this.path,t.path=".env"),t}staticPlace(t){let e=this.path.split("."),n=e[e.length-1].toLocaleLowerCase(),s=ct.workspace.getConfiguration().get("laravelGoto.staticFileExtensions",[]);if(s=s.map(o=>o.toLowerCase()),s.indexOf(n)!==-1){let o=this.path.split("/");o=o.filter(r=>r!==".."&&r!=="."),t.path=o.join("/")}return t}inertiajsPlace(t){let e=[/Route::inertia\s*\([^,]+,\s*['"]([^'"]+)/,/Inertia::render\s*\(\s*['"]([^'"]+)/,/inertia\s*\(\s*['"]([^'"]+)/];for(let n of e){let s=n.exec(this.line)??n.exec(this.lines);if(s&&s[1]===this.path)return t.path=this.path,t}return t}livewirePlace(t){let e=[/livewire:([^\s/>]+)/,/@livewire\s*\(\s*['"]([^"']+)/],n=s=>s.toLowerCase().replace(/([-_.][a-z])/g,o=>o.toUpperCase().replace("-","").replace("_","").replace(".","/"));for(let s of e){let o=s.exec(this.line)??s.exec(this.lines);if(o!==null&&o&&this.path.includes(o[1]))return t.path=n(o[1]),t.path=t.path.charAt(0).toUpperCase()+t.path.slice(1)+".php",t}return t}classNamePlace(){return new B().getPlace(this.path,this.line,this.lines)}async middlewarePlace(t){let e=[/[m|M]iddleware\(\s*\[?\s*(['"][^'"]+['"]\s*,?\s*)+/,/['"]middleware['"]\s*=>\s*\s*\[?\s*(['"][^'"]+['"]\s*,?\s*){1,}\]?/],n;for(let s of e){if(!(s.exec(this.line)??s.exec(this.lines)))continue;let r=this.path.split(":")[0];n===void 0&&(n=await new R().all());let a=n.get(r);if(a)return a}return t}async commandPlace(t){let e=[/Artisan::call\(\s*['"]([^\s'"]+)/,/command\(\s*['"]([^\s'"]+)/],n;for(let s of e){let o=s.exec(this.line)??s.exec(this.lines);if(!o)continue;let r=o[1];n===void 0&&(n=await new O().all());let a=n.get(r);if(a)return a}return t}async routePlace(t){let e=[/route\(\s*['"]([^'"]+)/,/['"]route['"]\s*=>\s*(['"])([^'"]+)/],n;for(let s of e){if(!(s.exec(this.line)??s.exec(this.lines)))continue;n===void 0&&(n=new M().all());let r=n.get(this.path);if(r)return r}return t}setControllerAction(t,e){if(e.path.indexOf("@")!==-1){let n=e.path.split("@");e.path=n[0],e.location="@"+n[1]}else if(e.path.endsWith("::class")){let n=P.getByDelimiter(this.document,this.selection,"[]");n&&(e.location="@"+this.document.getText(n).split(",")[1].replace(/['"]+/g,"").trim())}else t.length&&!t[0].isNamespace&&(e.path=t[0].namespace,e.path!==this.path&&(e.location="@"+this.path));return e}setControllerNamespace(t,e){let n=e.path.endsWith("::class");if(e.path[0]!=="\\"||n){e.path[0]==="\\"&&(e.path=e.path.substring(1));let s=S.find(t);s&&(e.path=s+"/"+e.path)}return e}};var v;async function N(i,t){let e=P.getByDelimiter(i,t);if(!e)return;let s=await new L(i,e).getPlace();if(s.paths?.size){for(let[o,r]of s.paths)r.length===0&&s.paths.set(o,await m("**/"+o));return s}if(s.path)return s.uris=await m("**/"+s.path),s}function V(i){i.location&&(v&&(v.dispose(),v=null),v=x.window.onDidChangeActiveTextEditor(async t=>{if(v===null||t===void 0)return;let e=(0,K.basename)(t.document.uri.path);if((0,K.basename)(i.path)!==e){if(!i.paths){v.dispose();return}if(Array.from(i.paths.keys()).every(s=>(0,K.basename)(s)!==e)){v.dispose();return}}if(v.dispose(),i.location[0]==="@")await x.commands.executeCommand("workbench.action.quickOpen",i.location);else{let n=i.location;i.locations?.has(e)&&(n=i.locations?.get(e)??""),J(t,n)}}))}function J(i,t){if(!t)return;let n=new RegExp(t).exec(i.document.getText());if(n){let s=new x.Range(i.document.positionAt(n.index),i.document.positionAt(n.index+n[0].length));i.selection=new x.Selection(s.start,s.end),i.revealRange(s)}}var F=class{static documentFilter(){return{language:"php",scheme:"file"}}async provideHover(t,e){let n=new u.Range(e,e),s=await N(t,n);if(s===void 0)return;V(s);let o=this.markdownUri(s.path,s.uris);if(s.paths?.size){o="";for(let[c,l]of s.paths)o+="- "+this.markdownUri(c,l)+`
`;let a=s.getUniquePaths();if(a.length){let c=this.markdownOpenAllUri(a,s.location,s.locations??new Map);o+=c}}let r=new u.MarkdownString(o);return r.isTrusted=!0,new u.Hover(r)}markdownUri(t,e){let n=t,s="workbench.action.quickOpen";e.length===1&&(n=u.Uri.file(e[0].fsPath),s="vscode.open");let o=encodeURIComponent(JSON.stringify([n])),r=u.Uri.parse(`command:${s}?${o}`);return`[${t}](${r.toString()})`}markdownOpenAllUri(t,e,n){let s={files:t,location:e,locations:Object.fromEntries(n)},o="extension.vscode-laravel-goto.new-window",r=encodeURI(JSON.stringify([s]));return`

[Open all files above in new window](${u.Uri.parse(`command:${o}?${r}`).toString()})`}};var w=f(require("vscode"));var lt=async i=>{await N(i.document,i.selection).then(async t=>{if(t===void 0){await w.window.showWarningMessage("Laravel Goto: unidentified string.");return}V(t);let e=t.uris,n=t.path;if(t.paths?.size){let s=Array.from(t.paths.keys()),o=t.getUniquePaths(),r="Open all files above in new window";if(o.length&&(s.push(""),s.push(r)),n=await w.window.showQuickPick(s)??"",r===n){let a={location:t.location,files:o};await w.commands.executeCommand("extension.vscode-laravel-goto.new-window",a);return}e=t.paths.get(n)??[]}if(n){if(e.length===1){await w.commands.executeCommand("vscode.open",w.Uri.file(e[0].fsPath));return}await w.commands.executeCommand("workbench.action.quickOpen",n)}})};var h=f(require("vscode"));var ht=require("path");async function ft(i,t){if(t.files.length===0)return;await i.globalState.update("open_all",t);let e=h.Uri.file(t.files[0]);await h.commands.executeCommand("vscode.openFolder",e,{forceNewWindow:!0})}async function mt(i){if(!h.window.state.focused||!h.window.activeTextEditor)return;let t=i.globalState.get("open_all");if(await i.globalState.update("open_all",null),!t||t.files.length===0)return;t.locations=new Map(Object.entries(t.locations));let e=h.window.activeTextEditor.document.uri.fsPath;if(e!==t.files[0])return;pt(h.window.activeTextEditor,t,e);for(let o=1;o<t.files.length;o++){let r=h.Uri.file(t.files[o]),a=await h.workspace.openTextDocument(r);await h.window.showTextDocument(a,h.ViewColumn.Beside),pt(h.window.activeTextEditor,t,r.fsPath)}let n=1/t.files.length,s=[];s.fill({size:n},0,t.files.length-1),await h.commands.executeCommand("vscode.setEditorLayout",{orientation:0,groups:s})}function pt(i,t,e){let n=(0,ht.basename)(e),s=t.locations.get(n)??t.location;J(i,s)}async function Ct(i){ot(i.extensionMode);let t=T.languages.registerHoverProvider(F.documentFilter(),new F);i.subscriptions.push(t);let e=T.commands.registerTextEditorCommand("extension.vscode-laravel-goto",lt);i.subscriptions.push(e);let n=T.commands.registerCommand("extension.vscode-laravel-goto.new-window",r=>ft(i,r));i.subscriptions.push(n),await mt(i);let s=new M;await s.update();let o=s.watch();i.subscriptions.push(o)}0&&(module.exports={activate});
